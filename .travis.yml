language: python
python:
- 2.7
- 3.6
cache: pip
install:
- pip install coveralls tox-travis
before_script:
- npm install -g gulp-cli
- npm config set package-lock false
script:
- tox
- python2.7 setup.py bdist_wheel --universal
after_success:
- coveralls
deploy:
  provider: releases
  skip_cleanup: true
  api_key:
    secure: e24xlCO9zGNwFqicknFg/HAqui5duz2aQM2ruPFDpPbmw4rMD9ABYMq9DUqu/o4bXQMtCqH32fgaKnz6j4LYoMHEedPYpPuluszqXj2coHUoE+p93w/AYrGFiGfMukUtcW8xBxJnLJi4HOovKdSKqaravb7BCCtc/OjfcrPOn+g=
  file_glob: true
  file: 'dist/*.whl'
  on:
      tags: true
